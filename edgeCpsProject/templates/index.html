<!DOCTYPE html>
<html>
<head>
    <title>Login</title>

 <!-- 부트스트랩 CSS 링크 추가 -->
 <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
	<div id="title" class="title">
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles/process.css')}}"> <!--순우 css 추가-->
		<!-- <h2> <a class="home" href="/">EdgeCPS</a></h2> -->
	</div>
    <div class="imageContainer"></div>
    <div class="container">
        <h1>Login</h1>
        <form method="POST" action="/">
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" class="form-control" id="username" name="username" required>
                <small id="usernameError" class="text-danger"></small>
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" class="form-control" id="password" name="password" required>
                <small id="passwordError" class="text-danger"></small>
            </div>
            <button type="submit" class="btn btn-primary" id="confirmBtn">Login</button>
            <a href="{{ url_for('signup') }}" class="btn btn-primary">Signup</a>
        </form>
        {% if login_msg %}
          <div class="alert alert-danger">{{ login_msg }}</div>
        {% endif %}
        <div>
            <a href="{{ url_for('forgetid') }}">아이디 찾기</a>
			<a href="{{ url_for('forgetpw') }}">비밀번호 찾기</a>
        </div>


  

    <!-- 부트스트랩 JS 링크 -->
    <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> -->

    <!-- 부트스트랩 JS 및 jQuery 링크 추가 -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
          const confirmBtn = document.getElementById('confirmBtn');
          const usernameError = document.getElementById('usernameError');
          const passwordError = document.getElementById('passwordError');
    
          confirmBtn.addEventListener('click', function () {
            const password = document.getElementById('password').value;
            const username = document.getElementById('username').value;
    
            passwordError.textContent = "";
            usernameError.textContent = "";
    
            let hasError = false;
    
    
            if (password === "") {
              passwordError.textContent = "Email is required.";
              hasError = true;
            }
    
            if (username === "") {
              usernameError.textContent = "Username is required.";
              hasError = true;
            }
    
            // if (!hasError) {
            //   // 여기에 서버로 정보를 전송하고, 서버에서 응답을 받는 로직을 추가
            //   $.ajax({
            //     url: '/check_user', // 서버로 보낼 URL
            //     method: 'POST',     // 요청 메소드
            //     data: { password, username }, // 전송할 데이터
            //     success: function(response) {
            //       if (response === 'not_found') {
            //         showError("User not found in the database.");
            //       } else {
            //         // 여기에 성공 시 동작을 추가하면 됩니다.
            //         // 예시: resetPassword(name, email, username);
            //       }
            //     },
            //     error: function() {
            //       showError("An error occurred while processing the request.");
            //     }
            //   });
            // }
          });
    
          function showError(errorMessage) {
            const errorDiv = document.createElement("div");
            errorDiv.classList.add("alert", "alert-danger");
            errorDiv.textContent = errorMessage;
            document.querySelector(".container").appendChild(errorDiv);
          }
        });
      </script>
</body>
</html>